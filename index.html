<!DOCTYPE HTML>
<html>

<head>
  <style>
    @import url("./styles/index.css");
  </style>

</head>

<body>
  <img id="player" src="styles/images/elephant.jpg" height="100px" width="100px" />

  <img id="leftBow" src="styles/images/bow.jpg" height=70px" width="90px"/>
  <img id="midBow" src="styles/images/bow.jpg" height=70px" width="90px"/>
  <img id="rightBow" src="styles/images/bow.jpg" height=70px" width="90px"/>

  <div id="leftFire" class="fire"></div>
  <div id="midFire" class="fire"></div>
  <div id="rightFire" class="fire"></div>

  <button id="stop" disabled>STOP</button>
  <button id="start"> START </button>

  <script type="module">
      import getPositions from './modules/getPositions.js'

      const externalJsFiles = ["modules/arrowKeys.js", "modules/fireEvent.js", "modules/leftFire.js", "modules/rightFire.js", "main.js"];

      document.getElementById('start').addEventListener('click', function(){
        externalJsFiles.forEach(eachScript => {
            const script = document.createElement('script');
            script.src = eachScript;
            script.type='module';
            script.defer = true;
            document.body.appendChild(script);
        })
      });
      const positions = getPositions();
      leftBow.style.left = positions.leftBowPosition + "px";
      leftFire.style.left = positions.leftFirePosition + "px";

      midBow.style.left = positions.midBowPosition + "px";
      midFire.style.left = positions.midFirePosition + "px";

      rightBow.style.left = positions.rightBowPosition + "px";
      rightFire.style.left = positions.rightFirePosition + "px";

      player.style.left = positions.playerMidPosition + "px";

</script>

<br/> </br>
</body>

</html>